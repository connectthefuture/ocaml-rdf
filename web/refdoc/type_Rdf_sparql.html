<ocamldoc with-contents="true"><title>OCaml-RDF reference documentation : Rdf_sparql</title><contents><div class="ocamldoc-page">
<code class="code"><span class="keyword">sig</span>
&#160;&#160;<span class="keyword">type</span>&#160;error&#160;=
&#160;&#160;&#160;&#160;&#160;&#160;<span class="constructor">Parse_error</span>&#160;<span class="keyword">of</span>&#160;<span class="constructor">Rdf_loc</span>.loc&#160;*&#160;string
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Value_error</span>&#160;<span class="keyword">of</span>&#160;<span class="constructor">Rdf_dt</span>.error
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Eval_error</span>&#160;<span class="keyword">of</span>&#160;<span class="constructor">Rdf_sparql_eval</span>.error
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Algebra_error</span>&#160;<span class="keyword">of</span>&#160;<span class="constructor">Rdf_sparql_algebra</span>.error
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Not_select</span>
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Not_ask</span>
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Not_construct</span>
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Not_describe</span>
&#160;&#160;<span class="keyword">exception</span>&#160;<span class="constructor">Error</span>&#160;<span class="keyword">of</span>&#160;<span class="constructor">Rdf_sparql</span>.error
&#160;&#160;<span class="keyword">val</span>&#160;string_of_error&#160;:&#160;<span class="constructor">Rdf_sparql</span>.error&#160;<span class="keywordsign">-&gt;</span>&#160;string
&#160;&#160;<span class="keyword">type</span>&#160;query&#160;=&#160;<span class="constructor">Rdf_sparql_types</span>.query
&#160;&#160;<span class="keyword">val</span>&#160;query_from_string&#160;:&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.query
&#160;&#160;<span class="keyword">val</span>&#160;query_from_file&#160;:&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.query
&#160;&#160;<span class="keyword">val</span>&#160;string_of_query&#160;:&#160;<span class="constructor">Rdf_sparql</span>.query&#160;<span class="keywordsign">-&gt;</span>&#160;string
&#160;&#160;<span class="keyword">type</span>&#160;solution
&#160;&#160;<span class="keyword">val</span>&#160;solution_of_mu&#160;:&#160;<span class="constructor">Rdf_sparql_ms</span>.mu&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.solution
&#160;&#160;<span class="keyword">val</span>&#160;get_term&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_term</span>.term
&#160;&#160;<span class="keyword">val</span>&#160;is_bound&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;bool
&#160;&#160;<span class="keyword">val</span>&#160;solution_fold&#160;:
&#160;&#160;&#160;&#160;(string&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_term</span>.term&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="keywordsign">'</span>a&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="keywordsign">'</span>a)&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="keywordsign">'</span>a&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="keywordsign">'</span>a
&#160;&#160;<span class="keyword">val</span>&#160;solution_iter&#160;:
&#160;&#160;&#160;&#160;(string&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_term</span>.term&#160;<span class="keywordsign">-&gt;</span>&#160;unit)&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;unit
&#160;&#160;<span class="keyword">val</span>&#160;get_string&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;string
&#160;&#160;<span class="keyword">val</span>&#160;get_iri&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Iri</span>.t&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Iri</span>.t
&#160;&#160;<span class="keyword">val</span>&#160;get_int&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;int
&#160;&#160;<span class="keyword">val</span>&#160;get_float&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;float
&#160;&#160;<span class="keyword">val</span>&#160;get_bool&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;bool
&#160;&#160;<span class="keyword">val</span>&#160;get_datetime&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">CalendarLib</span>.<span class="constructor">Fcalendar</span>.t
&#160;&#160;<span class="keyword">val</span>&#160;get_ltrl&#160;:&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;<span class="keywordsign">-&gt;</span>&#160;string&#160;*&#160;string&#160;option
&#160;&#160;<span class="keyword">type</span>&#160;query_result&#160;=
&#160;&#160;&#160;&#160;&#160;&#160;<span class="constructor">Bool</span>&#160;<span class="keyword">of</span>&#160;bool
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Solutions</span>&#160;<span class="keyword">of</span>&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;list
&#160;&#160;&#160;&#160;<span class="keywordsign">|</span>&#160;<span class="constructor">Graph</span>&#160;<span class="keyword">of</span>&#160;<span class="constructor">Rdf_graph</span>.graph
&#160;&#160;<span class="keyword">val</span>&#160;execute&#160;:
&#160;&#160;&#160;&#160;?graph:<span class="constructor">Rdf_graph</span>.graph&#160;<span class="keywordsign">-&gt;</span>
&#160;&#160;&#160;&#160;base:<span class="constructor">Iri</span>.t&#160;<span class="keywordsign">-&gt;</span>
&#160;&#160;&#160;&#160;<span class="constructor">Rdf_ds</span>.dataset&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.query&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.query_result
&#160;&#160;<span class="keyword">val</span>&#160;select&#160;:
&#160;&#160;&#160;&#160;base:<span class="constructor">Iri</span>.t&#160;<span class="keywordsign">-&gt;</span>
&#160;&#160;&#160;&#160;<span class="constructor">Rdf_ds</span>.dataset&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.query&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.solution&#160;list
&#160;&#160;<span class="keyword">val</span>&#160;construct&#160;:
&#160;&#160;&#160;&#160;?graph:<span class="constructor">Rdf_graph</span>.graph&#160;<span class="keywordsign">-&gt;</span>
&#160;&#160;&#160;&#160;base:<span class="constructor">Iri</span>.t&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_ds</span>.dataset&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.query&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_graph</span>.graph
&#160;&#160;<span class="keyword">val</span>&#160;ask&#160;:&#160;base:<span class="constructor">Iri</span>.t&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_ds</span>.dataset&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.query&#160;<span class="keywordsign">-&gt;</span>&#160;bool
&#160;&#160;<span class="keyword">val</span>&#160;describe&#160;:
&#160;&#160;&#160;&#160;?graph:<span class="constructor">Rdf_graph</span>.graph&#160;<span class="keywordsign">-&gt;</span>
&#160;&#160;&#160;&#160;base:<span class="constructor">Iri</span>.t&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_ds</span>.dataset&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.query&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_graph</span>.graph
&#160;&#160;<span class="keyword">type</span>&#160;iri_fun&#160;=&#160;<span class="constructor">Rdf_dt</span>.value&#160;list&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_dt</span>.value
&#160;&#160;<span class="keyword">val</span>&#160;iri_funs&#160;:&#160;unit&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.iri_fun&#160;<span class="constructor">Iri</span>.<span class="constructor">Map</span>.t
&#160;&#160;<span class="keyword">val</span>&#160;add_iri_fun&#160;:&#160;<span class="constructor">Iri</span>.t&#160;<span class="keywordsign">-&gt;</span>&#160;<span class="constructor">Rdf_sparql</span>.iri_fun&#160;<span class="keywordsign">-&gt;</span>&#160;unit
<span class="keyword">end</span></code></div></contents></ocamldoc>